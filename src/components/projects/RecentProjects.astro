---
import ProjectCard from '../ProjectCard.astro'
import type { Project, ApiResult } from '../../types'
import ProjectList from './ProjectList.astro'

const projects = (await (await fetch(import.meta.env.PROJECT_URL)).json()) as ApiResult<Project[]> 

const recent_projects = projects.data?.sort((a: Project, b: Project) => new Date(a.updated_at).getTime() - new Date(b.updated_at).getTime()) ?? []

export const prerender = false
---

<ProjectList select={null} projects={recent_projects} />
