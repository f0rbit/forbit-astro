---
import CenteredContainer from "../components/CenteredContainer.astro";
import Page from "../layouts/Page.astro";
import Navigation from "../components/Navigation.astro";

const projects = await (await fetch(import.meta.env.PROJECT_URL)).json() as { success: true, data: any, error: null } | { success: false, data: null, error: string };
---

<Page title="Projects" description="A list of all my projects">
    <Navigation />
    <CenteredContainer tag="div" class="flex flex-col gap-2">
        <header>
            Sorting Options...
        </header>
        <main>
            {!projects.success ? <div>Fetch Error: {projects.error}</div> : <>
                <pre>{JSON.stringify(projects.data, null, 2)}</pre>
            </>}
        </main>
    </CenteredContainer>
</Page>

